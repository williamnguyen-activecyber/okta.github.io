<!DOCTYPE html>
<html class="no-js" lang="en" dir="ltr">
<head>
  <script>
    var searchDomain = 'https://developer.okta.com';
    var isProduction = window.location.hostname === 'developer.okta.com';
    if (isProduction) {
      // TypeKit
      (function(d) {
        var config = {
          kitId: 'jff5neq',
          scriptTimeout: 3000,
          async: true
        },
        h=d.documentElement,t=setTimeout(function(){h.className=h.className.replace(/bwf-loadingb/g,"")+" wf-inactive";},config.scriptTimeout),tk=d.createElement("script"),f=false,s=d.getElementsByTagName("script")[0],a;h.className+=" wf-loading";tk.src='https://use.typekit.net/'+config.kitId+'.js';tk.async=true;tk.onload=tk.onreadystatechange=function(){a=this.readyState;if(f||a&&a!="complete"&&a!="loaded")return;f=true;clearTimeout(t);try{Typekit.load(config)}catch(e){}};s.parentNode.insertBefore(tk,s)
      })(document);

      // Google analytics
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
              (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
              m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-15777010-3', 'auto');
      ga('send', 'pageview');

      // START Google Tag Manager
      (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
      new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
      j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
      '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
      })(window,document,'script','dataLayer','GTM-TJ45R6');
      // END Google Tag Manager
    }
	</script>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="IE=edge,chrome=1">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
 	

  <link type="text/css" rel="stylesheet" href="https://developer.okta.com/sites/all/themes/developer/css/master.css" media="all" />
  <meta class="swiftype" name="title" data-type="string" content="Social Login | Okta Developer" />
  <meta class="swiftype" name="summary" data-type="string" content="Setting up an Okta Social Login provider" />

  <link type="text/css" rel="stylesheet" href="/assets/animate-ec43d72c3ed45e08a460b8a2966d8dba6006aebfa0530935c3973fa493a8771f.css">
  <link type="text/css" rel="stylesheet" href="/assets/okta-c992cfc2bf4fbb2e877a7e732f8b4f2697c898ac6c18f041fbb2ac251f00bc52.css">
  
  
  <link rel="shortcut icon" type="image/vnd.microsoft.icon" href="/favicon.ico">
  <title>Social Login | Okta Developer</title>
  <meta name="description" content="Setting up an Okta Social Login provider">
  <link rel="canonical" href="https://developer.okta.com/docs/api/resources/social_authentication.html">
  <link rel="alternate" type="application/rss+xml" title="Okta Developer" href="https://developer.okta.com/feed.xml"><!-- GA -->
</head>

<body>
  <div class="Page social-login Page--docs-page">
    <!-- START Header -->
    




<header class="Header is-fixed">

  <div class="Wrap">

    <a class="Logo" href="https://developer.okta.com">
      <svg version="1.1" id="OktaLogo" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 431.9 151.4" style="enable-background:new 0 0 431.9 151.4;" xml:space="preserve"><g><g><g><path d="M102.2,41.4c-21,0-38.1,17.1-38.1,38.1s17.1,38.1,38.1,38.1s38.1-17.1,38.1-38.1l0,0C140.3,58.5,123.2,41.4,102.2,41.4z M102.2,98.5c-10.5,0-19-8.5-19-19s8.5-19,19-19s19,8.5,19,19c0.1,10.5-8.4,19-18.9,19.1C102.3,98.6,102.2,98.6,102.2,98.5L102.2,98.5z"/><path d="M169.1,92.3c0-1.9,1.5-3.4,3.4-3.4c0.9,0,1.8,0.4,2.4,1c9.5,9.7,25.3,26.3,25.4,26.4c0.4,0.5,0.8,0.8,1.4,0.9l1.6,0.2h17.2c1.8,0,3.3-1.4,3.4-3.2c0-0.8-0.3-1.5-0.8-2.2l-28.6-29.2l-1.5-1.5c-3.2-3.9-2.9-5.4,0.8-9.3l22.6-25.1c1.1-1.4,0.8-3.5-0.6-4.6c-0.6-0.4-1.3-0.7-2-0.7h-17c-0.6,0.2-1.1,0.5-1.5,0.9L175,64.4c-1.3,1.4-3.4,1.5-4.8,0.2c-0.7-0.6-1.1-1.5-1.1-2.5V18.9c0-1.7-1.3-3-3-3c-0.1,0-0.2,0-0.3,0h-12.7c-2.2,0-3.3,1.5-3.3,2.8v95.8c0,2.2,1.8,2.8,3.3,2.8h12.7c1.7,0.1,3.2-1.2,3.3-2.9c0,0,0,0,0,0V92.3z"/><path d="M273,114l-1.4-12.8c-0.2-1.7-1.7-2.9-3.4-2.7c0,0,0,0-0.1,0l-2.9,0.2c-10.1,0-18.5-7.9-19-18c0-0.3,0-0.7,0-1V64.2c-0.1-2,1.5-3.6,3.5-3.7c0,0,0,0,0,0h17c1.7-0.1,3.1-1.5,3-3.2c0,0,0-0.1,0-0.1v-12c0-2.3-1.5-3.6-2.8-3.6h-17.1c-1.9,0.1-3.5-1.5-3.6-3.4c0,0,0,0,0,0V18.9c-0.1-1.7-1.5-3.1-3.2-3c0,0-0.1,0-0.1,0h-12.7c-1.6-0.1-3,1.1-3.1,2.7c0,0.1,0,0.1,0,0.2c0,0,0,61.7,0,62c0.5,21,17.9,37.6,38.9,37c1.4,0,2.9-0.2,4.3-0.3C272,117.2,273.2,115.7,273,114z"/></g><path d="M364.7,98c-10.8,0-12.4-3.8-12.4-18.3l0,0V44.8c0-1.8-1.4-3.2-3.2-3.2c0,0-0.1,0-0.1,0h-12.8c-1.8,0-3.2,1.4-3.3,3.2v1.6C314.6,36,291.3,42.5,281,60.8c-10.4,18.3-3.9,41.6,14.4,51.9c14,7.9,31.4,6.2,43.5-4.2c3.6,5.5,9.3,9.1,18.3,9.1c1.5,0,9.7,0.3,9.7-3.5v-13.6C367,99.2,366,98.1,364.7,98z M314.2,98.6c-10.5,0-19-8.5-19-19s8.5-19,19-19s19,8.5,19,19l0,0C333.2,90.1,324.7,98.6,314.2,98.6z"/></g><path d="M19.4,74c2.2-1.9,4.1-4.1,5.7-6.6c3.5-5.3,5.4-11.5,5.2-17.9V27c0-4.9,0.9-8.4,2.7-10.5c1.8-2.1,4.8-3,9.2-3h12.6c1.2,0,2.1-0.9,2.2-2.1l0,0V2.2C57,1,56,0,54.8,0c0,0,0,0,0,0H41.5c-7.8,0-12.9,2.1-18,7.6s-7.1,12.3-7.1,21.7v14.2c0,2.2-0.1,4-0.2,5.7v2.2c-0.5,3.2-1.8,6.2-3.6,8.9C9.4,64.7,5.1,70.9,0.9,74l0,0l-0.3,0.3l0,0l-0.2,0.3H0.2v0.3l0,0c-0.1,0.3-0.1,0.7,0,1l0,0v0.3h0.1l0.2,0.3l0,0l0.3,0.3l0,0c4.2,3.1,8.5,9.3,11.3,13.7c1.8,2.7,3.1,5.7,3.6,8.9v2.2c0.1,1.6,0.2,3.5,0.2,5.7v14.3c0,9.4,2.4,16.7,7.1,21.7s10.2,7.6,18,7.6h13.8c1.2,0,2.2-1,2.2-2.2V140l0,0c0-1.2-1-2.2-2.2-2.2H42.2c-4.4,0-7.5-1-9.2-3s-2.7-5.6-2.7-10.5v-22.4c0.2-6.4-1.7-12.6-5.2-17.9c-1.6-2.5-3.5-4.7-5.7-6.6l0,0c-0.9-0.7-1.1-2-0.4-2.9C19.2,74.3,19.3,74.2,19.4,74L19.4,74z"/><path d="M412.5,74c-2.2-1.9-4.1-4.1-5.7-6.6c-3.5-5.3-5.4-11.5-5.2-17.9V27c0-4.9-0.9-8.4-2.7-10.5s-4.8-3-9.2-3h-12.6c-1.2,0-2.2-1-2.2-2.2c0,0,0,0,0,0l0,0V2.2c0-1.2,1-2.2,2.2-2.2c0,0,0,0,0,0h13.4c7.8,0,12.9,2.1,18,7.6s7.1,12.3,7.1,21.7v14.2c0,2.2,0.1,4,0.2,5.7v2.2c0.5,3.2,1.8,6.2,3.6,8.9c2.8,4.5,7.1,10.7,11.3,13.7l0,0l0.3,0.3l0,0l0.2,0.3h0.1v0.3l0,0c0.1,0.3,0.1,0.7,0,1l0,0v0.3h-0.1l-0.2,0.3l0,0l-0.3,0.3l0,0c-4.2,3.1-8.5,9.3-11.3,13.7c-1.8,2.7-3.1,5.7-3.6,8.9v2.2c-0.1,1.6-0.2,3.5-0.2,5.7v14.3c0,9.4-2.4,16.7-7.1,21.7s-10.2,7.6-18,7.6h-13.4c-1.2,0-2.2-1-2.2-2.2c0,0,0,0,0,0V140l0,0c0-1.2,1-2.2,2.2-2.2l0,0h12.7c4.4,0,7.5-1,9.2-3s2.7-5.6,2.7-10.5v-22.4c-0.2-6.3,1.6-12.6,5.1-17.9c1.6-2.5,3.5-4.7,5.7-6.6l0,0c0.9-0.7,1.1-2,0.4-2.9C412.7,74.3,412.6,74.2,412.5,74L412.5,74z"/></g></svg>
    </a>

    <nav class="Header-nav PrimaryNav">
      <ul class="menu">
        <li class="first leaf">
          <a href="https://developer.okta.com/product/">Product</a>
        </li>
        <li class="leaf">
          <a href="https://developer.okta.com/pricing/">Pricing</a>
        </li>
        <li class="leaf">
          <a href="/blog/">Blog</a>
        </li>
        <li class="leaf">
          <a href="/documentation/" class="active">Docs</a>
        </li>
        <li class="last expanded">
          <span class="nolink">Support</span>
          <ul class="menu">
            <li class="first leaf"><a href="https://devforum.okta.com/">Okta Developer Forums</a></li>
            <li class="last leaf"><a href="mailto:developers@okta.com">developers@okta.com</a></li>
          </ul>
        </li>
      </ul>
      <a class="PrimaryNav-toggle" href="#">
        <svg width="20px" height="20px" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
            <g class="MenuIcon" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="round">
                <path d="M1,16 L19,16" class="MenuIcon-line1" stroke="#FFFFFF" stroke-width="2"></path>
                <path d="M1,4 L19,4" class="MenuIcon-line2" stroke="#FFFFFF" stroke-width="2"></path>
                <path d="M1,10 L19,10" class="MenuIcon-line3" stroke="#FFFFFF" stroke-width="2"></path>
                <path d="M1,10 L19,10" class="MenuIcon-line4" stroke="#FFFFFF" stroke-width="2"></path>
            </g>
        </svg>
        <svg class="CloseIcon" width="16px" height="16px" viewBox="0 0 16 16" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
          <g id="ALl-Boards" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
            <g id="Desktop" transform="translate(-915.000000, -235.000000)" fill="#FFFFFF">
              <g id="Search-bar-Active" transform="translate(30.000000, 26.000000)">
                <polygon id="Icon/Cross" points="901 210.6 899.4 209 893 215.4 886.6 209 885 210.6 891.4 217 885 223.4 886.6 225 893 218.6 899.4 225 901 223.4 894.6 217"></polygon>
              </g>
            </g>
          </g>
        </svg>
      </a>

      <div class="PrimaryNav-cta">
        <a href="https://developer.okta.com/signup/" class="Button--red">Sign up</a>
      </div>

      <a class="SearchIcon" href="#"></a>
      <form id="form_search" class="SearchBar Formisimo_clocked_69929" method="get" action="https://developer.okta.com/search/" name="form_search" __bizdiag="-784164280" __biza="WJ__">
        <input type="text" name="stq" autocomplete="off" id="st-search-input-auto" class="st-search-input" placeholder="Search">
        <input type="submit" name="submit" value="GO">
      </form>

    </nav>

  </div>

</header>

    <!-- END Header -->
     <!-- START Page Center w/Sub Nav & Content -->
    <section class="PageContent DynamicSidebar has-tableOfContents">
      <!-- START Fixed sidebar --><aside class="Sidebar">
        <h2 class="Sidebar-location Sidebar-toggle h6">Navigation</h2>
        <div class="Sidebar-close Sidebar-toggle"></div>
        <div>
          <h3 class="Sidebar-title">Use Cases</h3>
          <ul class="Sidebar-nav">
            <li>
              <a href="/use_cases/authentication/">Authentication</a>
            </li>
            <li>
              <a href="/use_cases/mfa/">Multi-Factor Authentication</a>
            </li>
            <li>
              <a href="/use_cases/api_access_management/">API Access Management</a>
            </li>
            <li>
              <a href="/use_cases/integrate_with_okta/">Integrate with Okta</a>
            </li>
          </ul>
          <h3 class="Sidebar-title">Reference</h3>
          <ul class="Sidebar-nav">
            <li>
              <a href="/docs/api/getting_started/api_test_client.html">Getting Started</a>
            </li>
            <li>
              <a href="/docs/api/resources/authn.html">Authentication Reference</a>
              <ul id="Sidebar_References" class="Sidebar-hide">
                <li><a href="/docs/api/resources/authn.html">Authentication</a></li>
                <li><a href="/docs/api/resources/oauth2.html">OAuth 2.0</a></li>
                <li><a href="/docs/api/resources/oidc.html">OpenID Connect</a></li>
                <li class="is-active"><a href="/docs/api/resources/social_authentication.html">Social Login</a></li>
                <li><a href="/docs/api/resources/sessions.html">Sessions</a></li>
              </ul>
            </li>
            <li>
              <a href="/docs/api/resources/apps.html">API Reference</a>
              <ul id="Sidebar_Resources" class="Sidebar-hide">
                <li><a href="/docs/api/resources/apps.html">Apps</a></li>
                <li><a href="/docs/api/resources/events.html">Events</a></li>
                <li><a href="/docs/api/resources/oauth-clients.html">Dynamic Client Registration</a></li>
                <li><a href="/docs/api/resources/factors.html">Factors</a></li>
                <li><a href="/docs/api/resources/groups.html">Groups</a></li>
                <li><a href="/docs/api/resources/idps.html">Identity Providers</a></li>
                <li><a href="/docs/api/resources/policy.html">Policy</a></li>
                <li><a href="/docs/api/resources/roles.html">Admin Roles</a></li>
                <li><a href="/docs/api/resources/schemas.html">Schemas</a></li>
                <li><a href="/docs/api/resources/system_log.html">System Log (Beta)</a></li>
                <li><a href="/docs/api/resources/templates.html">Templates</a></li>
                <li><a href="/docs/api/resources/users.html">Users</a></li>
                <li><a href="/docs/api/resources/zones.html">Zones</a></li>
              </ul>
            </li>
            <li>
              <a href="/reference/error_codes/">Error Codes</a>
            </li>
            <li>
              <a href="/reference/okta_expression_language/">Okta Expression Language</a>
            </li>
            <li>
              <a href="/docs/platform-release-notes/platform-release-notes.html">Platform Release Notes</a>
            </li>
          </ul>

          <h3 class="Sidebar-title">Standards</h3>
          <ul class="Sidebar-nav">
            
            
            
            <li>
              <a href="/standards/OAuth/">OAuth 2.0 and Okta</a>
            </li>
            
            
            <li>
              <a href="/standards/OIDC/">OpenID Connect and Okta</a>
            </li>
            
            
            <li>
              <a href="/standards/SAML/">SAML</a>
            </li>
            
            
            
            
            <li>
              <a href="/standards/SCIM/">SCIM Provisioning with Lifecycle Management</a>
            </li>
            
          </ul>
          <script>
            if (document.querySelectorAll("#Sidebar_Resources .is-active").length) {
                document.getElementById('Sidebar_Resources').classList.remove('Sidebar-hide');
            }

            if (document.querySelectorAll("#Sidebar_References .is-active").length) {
                document.getElementById('Sidebar_References').classList.remove('Sidebar-hide');
            }
          </script>
        </div>
      </aside>
<!-- END Fixed sidebar -->
      <!-- START Page Content -->
      <div class="PageContent-main" id="docs-body">
        <a id="edit-link" href="https://github.com/okta/okta.github.io/edit/master/_source/_docs/api/resources/social_authentication.md">Edit Page</a>
      <h1 id="social-login">Social Login</h1>

<p><a href="/docs/api/getting_started/releases-at-okta.html#early-access-ea"> <span class="api-label api-label-ea "> <i class="fa fa-flag"></i> Early Access </span> </a></p>

<p>Okta allows your users to sign in to your app using their Facebook, Google, LinkedIn, and Microsoft credentials. Once the user has successfully authenticated, they are returned to your app, and their social profile information is pulled into your Okta directory.</p>

<h3 id="features">Features</h3>

<p>Configuring social login with Okta allows you to use the following features:</p>

<ul>
  <li>
    <p><strong>User Registration:</strong> Capture the Profile attributes from a Social Identity Provider user and store those attributes in Okta’s Universal Directory.</p>
  </li>
  <li>
    <p><strong>User Authentication:</strong> After a user is registered, continue to use that Social Identity Provider for user authentication, thus eliminating the need to store an additional username and password for that user.</p>
  </li>
  <li>
    <p><strong>Social Profile Sync:</strong> If a user updates their Social Profile, those changes can be reflected inside Okta the next time they use social login.</p>
  </li>
  <li>
    <p><strong>Support for Multiple Social Profiles</strong> Multiple Social Profiles can all be linked to one Okta user.</p>
  </li>
  <li>
    <p><strong>Support for Webhooks:</strong> Make callouts to your application during user registration and/or account linking. For example: prompt a user for additional attributes before linking their account, or enable a customized validation or confirmation flow.</p>
  </li>
  <li>
    <p><strong>OAuth 2.0 Scope Configuration:</strong> Specify OAuth 2.0 scopes to fully control which Social Profile attributes are linked to Okta.</p>
  </li>
</ul>

<h3 id="the-social-login-process">The Social Login Process</h3>

<p>The social login process starts at the <a href="/docs/api/resources/oidc.html#authentication-request">authentication endpoint</a>, then goes out to the provider and back:</p>

<ol>
  <li>The user who wishes to authenticate clicks a “Log in with x” link.</li>
  <li>The user authenticates and is asked by the Provider to accept the permissions required by your app.</li>
  <li>Once the user accepts the permissions, Okta handles the authentication and redirects the user back to your specified redirect URI.</li>
</ol>

<p><img src="/assets/social_login_flow-02a8aff29c7ab39260b8b09e76eed9dd050c41331833b6ca6a8a45daaca90651.png" alt="Social Login Flow" width="800px" /></p>

<!-- Source for image. Generated using http://www.plantuml.com/plantuml/uml/

@startuml
skinparam monochrome true

participant "Okta" as ok
participant "User Agent" as ua
participant "Social Identity Provider" as idp

ua -> ok: Get /oauth2/v1/authorize
ok -> ua: 302 to IdP's Authorize Endpoint + state
ua -> idp: GET IdP's Authorize Endpoint + state
ua <-> idp: User authenticates
idp -> ua: 302 to /oauth2/v1/authorize/callback + state  + code
ua -> ok: GET /oauth2/v1/authorize/callback + state  + code
ok -> ua: 302 to redirect_uri
@enduml
-->

<p>Social authentication requests are cancelled if not completed within fifteen minutes.</p>

<h3 id="the-set-up-process">The Set-up Process</h3>

<p>To set up social login, configure the following:</p>

<ol>
  <li>An OAuth 2.0 client in your social provider</li>
  <li>An Identity Provider in Okta</li>
  <li>An OpenID Connect Application in Okta</li>
</ol>

<p>Every Identity Provider in Okta is linked to an Application, and every time a user signs in with a Social Identity Provider for the first time, an Application User is created for them. The Application User represents the external user at the Social Identity Provider and can be used to map attributes to the Okta User. For more information about how to configure this behavior see <a href="#social-idp-settings">Social Identity Provider Settings</a> below.</p>

<h2 id="facebook">Facebook</h2>

<h5 id="1-set-up-a-facebook-app">1. Set Up a Facebook App</h5>

<p>1.1. Go to <a href="https://developers.facebook.com">https://developers.facebook.com</a> and register for a developer account if you haven’t already done so.</p>

<p>1.2. Head over to the Facebook App Dashboard: <a href="https://developers.facebook.com/apps">https://developers.facebook.com/apps</a>.</p>

<p>1.3. Create a Facebook app. Instructions for creating a Facebook application can be found here: <a href="https://developers.facebook.com/docs/apps/register">https://developers.facebook.com/docs/apps/register</a>.</p>

<p>1.4. On the “Product Setup” page, click the <strong>Dashboard</strong> link on the left-hand side.</p>

<p>1.5. Save the App ID and App Secret values so you can add them to the Okta configuration in the next section.</p>

<h5 id="2-configure-facebook-as-an-identity-provider-in-okta">2. Configure Facebook as an Identity Provider in Okta</h5>

<p>2.1. Sign in to your Okta org.</p>

<p>2.2. On the main page, click on the <strong>Admin</strong> button in the upper right.</p>

<p>2.3. Hover your cursor over <strong>Users</strong> until the menu opens, then click on <strong>Social &amp; Identity Providers</strong>.</p>

<p>2.4. On the Identity Providers page, click on <strong>Add Identity Provider</strong> &gt; <strong>Add Facebook</strong>.</p>

<ul>
  <li><strong>Name:</strong> We suggest using the name you would expect to see on a button, something like “Log in to Facebook”.</li>
  <li><strong>IdP Username:</strong> Set to “idpuser.email”.</li>
  <li><strong>Match against:</strong> Leave set to “Okta Username”.</li>
  <li><strong>Account Link Policy:</strong> Leave set to “Automatic”.</li>
  <li><strong>Auto-Link Restrictions:</strong> Leave set to “None”.</li>
  <li><strong>Provisioning Policy:</strong> Leave set to “Automatic”.</li>
  <li><strong>Profile Master:</strong> Leave unchecked if you want to be able to edit your user information in Okta, rather than having Facebook be the only source for all user updates.</li>
  <li><strong>Group Assignments:</strong> Leave set to “None”, or specify a Group that you would like Facebook users to be added to.</li>
  <li><strong>Client Id:</strong> Paste in the App ID that you got from Facebook in step 1.5 above.</li>
  <li><strong>Client Secret:</strong> Paste in the App Secret that you got from Facebook in step 1.5 above.</li>
  <li><strong>Scopes:</strong> Leave set to the default.</li>
</ul>

<blockquote>
  <p>For more information about these, see <a href="#social-idp-settings">Social Identity Provider Settings</a> below.</p>
</blockquote>

<p>2.5. Once you have completed all the fields, click on <strong>Add Identity Provider</strong>. You will be returned to the main “Identity Providers” page.</p>

<p>2.6. Find the Facebook Identity Provider that you just added. Once you have found the entry, copy both the “Authorize URL” and “Redirect URI” (ending in <code class="highlighter-rouge">/authorize/callback</code>).</p>

<h5 id="3-add-the-okta-redirect-uri-to-facebook">3. Add the Okta Redirect URI to Facebook</h5>

<p>3.1. In your Facebook app configuration, select <strong>Settings</strong> in the left pane.</p>

<p>3.2. Choose <strong>Add Platform</strong>.</p>

<p>3.3. Choose <strong>Website</strong>.</p>

<p>3.4. In the Site URL field, enter the Okta “Redirect URI” that you copied in step 2.6.</p>

<p>3.5. Click <strong>Save Changes</strong>.</p>

<h5 id="4-register-an-openid-connect-application-in-okta">4. Register an OpenID Connect Application in Okta</h5>

<p>4.1. Back on the Okta Developer Dashboard, click on <strong>Applications</strong>.</p>

<p>4.2. Click <strong>Add Application</strong>.</p>

<p>4.3. On the “Add Application” page, click <strong>Create New App</strong>.</p>

<p>4.4. Select the appropriate platform for your use case and choose a name for your new application.</p>

<p>4.5. Add one or more Redirect URIs. This is where the user will be directed to after they have authenticated with Facebook.</p>

<p>4.6. Assign the group that you chose under “Group Assignments” in Step 2.4 above or assign “Everyone”.</p>

<p>4.7. Under “Grant type allowed”, make sure “Implicit” is enabled.</p>

<p>4.8. Click <strong>Done</strong> and you will arrive on the page for your new application.</p>

<p>4.9. In the “Client Credentials” section, copy your “Client ID”, which you will use to complete your Authorize URL in the next step.</p>

<h5 id="5-complete-your-authorize-url">5. Complete Your Authorize URL</h5>

<p>The Okta Identity Provider that you created in section 2 above generated an Authorize URL with a number of blank parameters that you must now fill-in:</p>

<ul>
  <li><strong>client_id:</strong> use the client_id value you copied in step 4.10.</li>
  <li><strong>scope:</strong> Determines the claims that are returned in the ID token. This should have at least <code class="highlighter-rouge">openid</code>.</li>
  <li><strong>response_type:</strong> Determines which flow is used. This should be <code class="highlighter-rouge">id_token</code>.</li>
  <li><strong>response_mode:</strong> Determines how the authorization response should be returned. This should be <code class="highlighter-rouge">fragment</code>.</li>
  <li><strong>state:</strong> Protects against cross-site request forgery (CSRF).</li>
  <li><strong>nonce:</strong> A string included in the returned ID Token. Use it to associate a client session with an ID Token, and to mitigate replay attacks.</li>
  <li><strong>redirect_uri:</strong> The location where Okta returns a browser after the user has finished authenticating against their social login provider. This URL must start with “https” and must match one of the Redirect URIs that you configured previously in step 4.6.</li>
</ul>

<p>For a full explanation of all these parameters, see here: <a href="https://developer.okta.com/docs/api/resources/oauth2.html#request-parameters">OAuth 2.0 Request parameters</a>.</p>

<p>An example of a complete URL looks like this: <code class="highlighter-rouge">https://{yourOktaDomain}.com/oauth2/v1/authorize?idp=0oaaq9pjc2ujmFZexample&amp;client_id=GkGw4K49N4UEE1example&amp;response_type=id_token&amp;response_mode=fragment&amp;scope=openid&amp;redirect_uri=https%3A%2F%2FyourAppUrlHere.com%2Fsocial_auth&amp;state=WM6D&amp;nonce=YsG76jo</code></p>

<h4 id="using-facebook-for-login">Using Facebook for Login</h4>

<p>There are three primary ways to kick off the sign-in with Facebook flow.</p>

<p><strong>HTML Link</strong></p>

<p>One option is to create a link that the user clicks in order to log in. The HREF for that link would be the Authorize URL that you created previously:</p>

<p><code class="highlighter-rouge">&lt;a href=“https://{yourOktaDomain}.com/oauth2/v1/authorize?idp=0oaaq9pjc2ujmFZexample&amp;client_id=GkGw4K49N4UEE1example&amp;response_type=id_token&amp;response_mode=fragment&amp;scope=openid&amp;redirect_uri=https%3A%2F%2FyourAppUrlHere.com%2Fsocial_auth&amp;state=WM6D&amp;nonce=YsG76jo”&gt;Login With Facebook&lt;/a&gt;</code></p>

<p>After clicking this link, the user will be prompted to sign in with the social provider. After they succeed they will be returned to the specified <code class="highlighter-rouge">redirect_uri</code> along with an ID Token in JWT format.</p>

<p><strong>Okta Sign-in Widget</strong></p>

<p>Okta also offers an easily embeddable JavaScript widget that reproduces the look and behavior of the standard Okta sign-in page. Adding a “Login with Facebook” button is as simple as adding the following code to your configuration:</p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="nx">idps</span><span class="err">:</span> <span class="p">[</span>
  <span class="p">{</span><span class="na">type</span><span class="p">:</span> <span class="s1">'FACEBOOK'</span><span class="p">,</span> <span class="na">id</span><span class="p">:</span> <span class="s1">'$Your_FB_IDP_ID_Here'</span><span class="p">}</span>
<span class="p">]</span>
</code></pre>
</div>

<p>You can find out more about it <a href="https://github.com/okta/okta-signin-widget#okta-sign-in-widget">on GitHub</a>. Implementing login with Facebook would use the Widget’s <a href="https://github.com/okta/okta-signin-widget#openid-connect">OpenID Connect authentication flow</a>.</p>

<p><strong>Auth.js</strong></p>

<p>If you don’t want pre-built views, or need deeper levels of customization, then you can use the same AuthJS SDK that the Sign-in Widget is built with. For further information see <a href="https://github.com/okta/okta-auth-js#install">the AuthJS GitHub repo</a>. Implementing login with Facebook would use the SDK’s <a href="https://github.com/okta/okta-auth-js#openid-connect-options">OpenID Connect authentication flow</a>.</p>

<h2 id="google">Google</h2>

<h5 id="1-set-up-a-google-app">1. Set Up a Google App</h5>

<p>1.1. Go to <a href="https://console.developers.google.com/">https://console.developers.google.com/</a> and register for a developer account if you haven’t already done so.</p>

<p>1.2. Create a Google API Console project. Instructions for creating a project can be found here: <a href="https://developers.google.com/identity/sign-in/web/devconsole-project">https://developers.google.com/identity/sign-in/web/devconsole-project</a>. You can leave the “Authorized redirect URIs” section blank for now, you will return to it later.</p>

<p>1.3. Save the OAuth client ID and secret values so you can add them to the Okta configuration in the next section.</p>

<p>1.4. Click on “Dashboard” on the left-hand side and click <strong>Enable API</strong>.</p>

<p>1.5. Search for “Google+” and then click on <strong>Google+ API</strong>.</p>

<p>1.6. On the “Google+ API” page, click <strong>Enable</strong> at the top.</p>

<h5 id="2-configure-google-as-an-identity-provider-in-okta">2. Configure Google as an Identity Provider in Okta</h5>

<p>2.1. Sign in to your Okta org.</p>

<p>2.2. On the main page, click on the <strong>Admin</strong> button in the upper right.</p>

<p>2.3. Hover your cursor over <strong>Users</strong> until the menu opens, then click on <strong>Social &amp; Identity Providers</strong>.</p>

<p>2.4. On the Identity Providers page, click on <strong>Add Identity Provider</strong> &gt; <strong>Add Google</strong>.</p>

<ul>
  <li><strong>Name:</strong> We suggest using the name you would expect to see on a button, something like “Log in to Google”.</li>
  <li><strong>IdP Username:</strong> Set to “idpuser.email”.</li>
  <li><strong>Match against:</strong> Leave set to “Okta Username”.</li>
  <li><strong>Account Link Policy:</strong> Leave set to “Automatic”.</li>
  <li><strong>Auto-Link Restrictions:</strong> Leave set to “None”.</li>
  <li><strong>Provisioning Policy:</strong> Leave set to “Automatic”.</li>
  <li><strong>Profile Master:</strong> Leave unchecked if you want to be able to edit your user information in Okta, rather than having Google be the only source for all user updates.</li>
  <li><strong>Group Assignments:</strong> Leave set to “None”, or specify a Group that you would like Google users to be added to.</li>
  <li><strong>Client Id:</strong> Paste in the App ID that you got from Google in step 1.3 above.</li>
  <li><strong>Client Secret:</strong> Paste in the App Secret that you got from Google in step 1.3 above.</li>
  <li><strong>Scopes:</strong> Leave set to the default.</li>
</ul>

<blockquote>
  <p>For more information about these, see <a href="#social-idp-settings">Social Identity Provider Settings</a> below.</p>
</blockquote>

<p>2.5. Once you have completed all the fields, click on <strong>Add Identity Provider</strong>. You will be returned to the main “Identity Providers” page.</p>

<p>2.6. On the “Identity Providers” page, you should find the Google Identity Provider that you just added. Once you have found the entry, copy both the “Authorize URL” and “Redirect URI” (ending in <code class="highlighter-rouge">/authorize/callback</code>).</p>

<h5 id="3-add-the-okta-redirect-uri-to-google">3. Add the Okta Redirect URI to Google</h5>

<p>3.1. In your Google API Manager Credentials page, select the OAuth client you just created.</p>

<p>3.2. In the “Restrictions” section, find the “Authorized redirect URIs”.</p>

<p>3.3. Paste in the Redirect URI from step 2.6 above.</p>

<p>3.5. Click <strong>Save</strong>.</p>

<h5 id="4-register-an-openid-connect-application-in-okta-1">4. Register an OpenID Connect Application in Okta</h5>

<p>4.1. Back on the Okta Developer Dashboard, click on <strong>Applications</strong>.</p>

<p>4.2. Click <strong>Add Application</strong>.</p>

<p>4.3. On the “Add Application” page, click <strong>Create New App</strong>.</p>

<p>4.4. Select the appropriate platform for your use case and choose a name for your new application.</p>

<p>4.5. Add one or more Redirect URIs. This is where the user will be directed to after they have authenticated with Google.</p>

<p>4.6. Assign the group that you chose under “Group Assignments” in Step 2.4 above or assign “Everyone”.</p>

<p>4.7. Under “Grant type allowed”, make sure “Implicit” is enabled.</p>

<p>4.8. Click <strong>Done</strong> and you will arrive on the page for your new application.</p>

<p>4.9. In the “Client Credentials” section, copy your “Client ID”, which you will use to complete your Authorize URL in the next step.</p>

<h5 id="5-complete-your-authorize-url-1">5. Complete Your Authorize URL</h5>

<p>The Okta Identity Provider that you created in section 2 above generated an Authorize URL with a number of blank parameters that you must now fill-in:</p>

<ul>
  <li><strong>client_id:</strong> use the client_id value you copied in step 4.10.</li>
  <li><strong>scope:</strong> Determines the claims that are returned in the ID token. This should have at least <code class="highlighter-rouge">openid</code>.</li>
  <li><strong>response_type:</strong> Determines which flow is used. This should be <code class="highlighter-rouge">id_token</code>.</li>
  <li><strong>response_mode:</strong> Determines how the authorization response should be returned. This should be <code class="highlighter-rouge">fragment</code>.</li>
  <li><strong>state:</strong> Protects against cross-site request forgery (CSRF).</li>
  <li><strong>nonce:</strong> A string included in the returned ID Token. Use it to associate a client session with an ID Token, and to mitigate replay attacks.</li>
  <li><strong>redirect_uri:</strong> The location where Okta returns a browser after the user has finished authenticating against their social login provider. This URL must start with “https” and must match one of the Redirect URIs that you configured previously in step 4.6.</li>
</ul>

<p>For a full explanation of all these parameters, see here: <a href="https://developer.okta.com/docs/api/resources/oauth2.html#request-parameters">OAuth 2.0 Request parameters</a>.</p>

<p>An example of a complete URL looks like this: <code class="highlighter-rouge">https://{yourOktaDomain}.com/oauth2/v1/authorize?idp=0oaaq9pjc2ujmFZexample&amp;client_id=GkGw4K49N4UEE1example&amp;response_type=id_token&amp;response_mode=fragment&amp;scope=openid&amp;redirect_uri=https%3A%2F%2FyourAppUrlHere.com%2Fsocial_auth&amp;state=WM6D&amp;nonce=YsG76jo</code></p>

<h4 id="using-google-for-login">Using Google for Login</h4>

<p>There are three primary ways to kick off the sign-in with Google flow.</p>

<p><strong>HTML Link</strong></p>

<p>One option is to create a link that the user clicks in order to log in. The HREF for that link would be the Authorize URL that you created previously:</p>

<p><code class="highlighter-rouge">&lt;a href=“https://{yourOktaDomain}.com/oauth2/v1/authorize?idp=0oaaq9pjc2ujmFZexample&amp;client_id=GkGw4K49N4UEE1example&amp;response_type=id_token&amp;response_mode=fragment&amp;scope=openid&amp;redirect_uri=https%3A%2F%2FyourAppUrlHere.com%2Fsocial_auth&amp;state=WM6D&amp;nonce=YsG76jo”&gt;Login With Google&lt;/a&gt;</code></p>

<p>After clicking this link, the user will be prompted to sign in with the social provider. After they succeed they will be returned to the specified <code class="highlighter-rouge">redirect_uri</code> along with an ID Token in JWT format.</p>

<p><strong>Okta Sign-in Widget</strong></p>

<p>Okta also offers an easily embeddable JavaScript widget that reproduces the look and behavior of the standard Okta sign-in page. You can find out more about it <a href="https://github.com/okta/okta-signin-widget#okta-sign-in-widget">on GitHub</a>. Implementing login with Google would use the Widget’s <a href="https://github.com/okta/okta-signin-widget#openid-connect">OpenID Connect authentication flow</a>.</p>

<p><strong>Auth.js</strong></p>

<p>If you don’t want pre-built views, or need deeper levels of customization, then you can use the same AuthJS SDK that the Sign-in Widget is built with. For further information see <a href="https://github.com/okta/okta-auth-js#install">the AuthJS GitHub repo</a>. Implementing login with Google would use the SDK’s <a href="https://github.com/okta/okta-auth-js#openid-connect-options">OpenID Connect authentication flow</a>.</p>

<h2 id="linkedin">LinkedIn</h2>

<h5 id="1-set-up-a-linkedin-app">1. Set Up a LinkedIn App</h5>

<p>1.1. Go to <a href="https://developer.linkedin.com/">https://developer.linkedin.com/</a> and register for a developer account if you haven’t already done so.</p>

<p>1.2. Create a LinkedIn app here: <a href="https://www.linkedin.com/developer/apps">https://www.linkedin.com/developer/apps</a>.</p>

<p>1.3. Save the OAuth client ID and secret values so you can add them to the Okta configuration in the next section.</p>

<p>1.4. Select <code class="highlighter-rouge">r_basicprofile</code> and <code class="highlighter-rouge">r_emailaddress</code> as the “Default Application Permissions”. You can leave the “Authorized redirect URLs” section blank for now, you will return to it later.</p>

<h5 id="2-configure-linkedin-as-an-identity-provider-in-okta">2. Configure LinkedIn as an Identity Provider in Okta</h5>

<p>2.1. Sign in to your Okta org.</p>

<p>2.2. On the main page, click on the <strong>Admin</strong> button in the upper right.</p>

<p>2.3. Hover your cursor over <strong>Users</strong> until the menu opens, then click on <strong>Social &amp; Identity Providers</strong>.</p>

<p>2.4. On the Identity Providers page, click on <strong>Add Identity Provider</strong> &gt; <strong>Add LinkedIn</strong></p>

<ul>
  <li><strong>Name:</strong> We suggest using the name you would expect to see on a button, something like “Log in to LinkedIn”.</li>
  <li><strong>IdP Username:</strong> Set to “idpuser.email”.</li>
  <li><strong>Match against:</strong> Leave set to “Okta Username”.</li>
  <li><strong>Account Link Policy:</strong> Leave set to “Automatic”.</li>
  <li><strong>Auto-Link Restrictions:</strong> Leave set to “None”.</li>
  <li><strong>Provisioning Policy:</strong> Leave set to “Automatic”.</li>
  <li><strong>Profile Master:</strong> Leave unchecked if you want to be able to edit your user information in Okta, rather than having LinkedIn be the only source for all user updates.</li>
  <li><strong>Group Assignments:</strong> Leave set to “None”, or specify a Group that you would like Facebook users to be added to.</li>
  <li><strong>Client Id:</strong> Paste in the App ID that you got from LinkedIn in step 1.3 above.</li>
  <li><strong>Client Secret:</strong> Paste in the App Secret that you got from LinkedIn in step 1.3 above.</li>
  <li><strong>Scopes:</strong> Leave set to the default.</li>
</ul>

<blockquote>
  <p>For more information about these, see <a href="#social-idp-settings">Social Identity Provider Settings</a> below.</p>
</blockquote>

<p>2.5. Once you have completed all the fields, click on <strong>Add Identity Provider</strong>. You will be returned to the main “Identity Providers” page.</p>

<p>2.6. On the “Identity Providers” page, you should find the LinkedIn Identity Provider that you just added. Once you have found the entry, copy both the “Authorize URL” and “Redirect URI” (ending in <code class="highlighter-rouge">/authorize/callback</code>).</p>

<h5 id="3-add-the-okta-redirect-uri-to-linkedin">3. Add the Okta Redirect URI to LinkedIn</h5>

<p>3.1. In your LinkedIn app’s page, find the “OAuth 2.0” section under “Authorized Redirect URLs” paste in the Redirect URI from step 2.6 above.</p>

<p>3.2. Click <strong>Update</strong>.</p>

<h5 id="4-register-an-openid-connect-application-in-okta-2">4. Register an OpenID Connect Application in Okta</h5>

<p>4.1. Back on the Okta Developer Dashboard, click on <strong>Applications</strong>.</p>

<p>4.2. Click <strong>Add Application</strong>.</p>

<p>4.3. On the “Add Application” page, click <strong>Create New App</strong>.</p>

<p>4.4. Select the appropriate platform for your use case and choose a name for your new application.</p>

<p>4.5. Add one or more Redirect URIs. This is where the user will be directed to after they have authenticated with LinkedIn.</p>

<p>4.6. Assign the group that you chose under “Group Assignments” in Step 2.4 above or assign “Everyone”.</p>

<p>4.7. Under “Grant type allowed”, make sure “Implicit” is enabled.</p>

<p>4.8. Click <strong>Done</strong> and you will arrive on the page for your new application.</p>

<p>4.9. In the “Client Credentials” section, copy your “Client ID”, which you will use to complete your Authorize URL in the next step.</p>

<h5 id="5-complete-your-authorize-url-2">5. Complete Your Authorize URL</h5>

<p>The Okta Identity Provider that you created in section 2 above generated an Authorize URL with a number of blank parameters that you must now fill-in:</p>

<ul>
  <li><strong>client_id:</strong> use the client_id value you copied in step 4.10.</li>
  <li><strong>scope:</strong> Determines the claims that are returned in the ID token. This should have at least <code class="highlighter-rouge">openid</code>.</li>
  <li><strong>response_type:</strong> Determines which flow is used. This should be <code class="highlighter-rouge">id_token</code>.</li>
  <li><strong>response_mode:</strong> Determines how the authorization response should be returned. This should be <code class="highlighter-rouge">fragment</code>.</li>
  <li><strong>state:</strong> Protects against cross-site request forgery (CSRF).</li>
  <li><strong>nonce:</strong> A string included in the returned ID Token. Use it to associate a client session with an ID Token, and to mitigate replay attacks.</li>
  <li><strong>redirect_uri:</strong> The location where Okta returns a browser after the user has finished authenticating against their social login provider. This URL must start with “https” and must match one of the Redirect URIs that you configured previously in step 4.6.</li>
</ul>

<p>For a full explanation of all these parameters, see here: <a href="https://developer.okta.com/docs/api/resources/oauth2.html#request-parameters">OAuth 2.0 Request parameters</a>.</p>

<p>An example of a complete URL looks like this: <code class="highlighter-rouge">https://{yourOktaDomain}.com/oauth2/v1/authorize?idp=0oaaq9pjc2ujmFZexample&amp;client_id=GkGw4K49N4UEE1example&amp;response_type=id_token&amp;response_mode=fragment&amp;scope=openid&amp;redirect_uri=https%3A%2F%2FyourAppUrlHere.com%2Fsocial_auth&amp;state=WM6D&amp;nonce=YsG76jo</code></p>

<h4 id="using-linkedin-for-login">Using LinkedIn for Login</h4>

<p>There are three primary ways to kick off the flow to sign-in with LinkedIn.</p>

<p><strong>HTML Link</strong></p>

<p>One option is to create a link that the user clicks in order to log in. The HREF for that link would be the Authorize URL that you created previously:</p>

<p><code class="highlighter-rouge">&lt;a href=“https://{yourOktaDomain}.com/oauth2/v1/authorize?idp=0oaaq9pjc2ujmFZexample&amp;client_id=GkGw4K49N4UEE1example&amp;response_type=id_token&amp;response_mode=fragment&amp;scope=openid&amp;redirect_uri=https%3A%2F%2FyourAppUrlHere.com%2Fsocial_auth&amp;state=WM6D&amp;nonce=YsG76jo”&gt;Login With LinkedIn&lt;/a&gt;</code></p>

<p>After clicking this link, the user will be prompted to sign in with the social provider. After they succeed they will be returned to the specified <code class="highlighter-rouge">redirect_uri</code> along with an ID Token in JWT format.</p>

<p><strong>Okta Sign-in Widget</strong></p>

<p>Okta also offers an easily embeddable JavaScript widget that reproduces the look and behavior of the standard Okta sign-in page. You can find out more about it <a href="https://github.com/okta/okta-signin-widget#okta-sign-in-widget">on GitHub</a>. Implementing login with LinkedIn would use the Widget’s <a href="https://github.com/okta/okta-signin-widget#openid-connect">OpenID Connect authentication flow</a>.</p>

<p><strong>Auth.js</strong></p>

<p>If you don’t want pre-built views, or need deeper levels of customization, then you can use the same AuthJS SDK that the Sign-in Widget is built with. For further information see <a href="https://github.com/okta/okta-auth-js#install">the AuthJS GitHub repo</a>. Implementing login with LinkedIn would use the SDK’s <a href="https://github.com/okta/okta-auth-js#openid-connect-options">OpenID Connect authentication flow</a>.</p>

<h2 id="microsoft">Microsoft</h2>

<h5 id="1-set-up-a-microsoft-app">1. Set Up a Microsoft App</h5>

<p>1.1. Create a Microsoft app here: <a href="https://apps.dev.microsoft.com/#/appList">https://apps.dev.microsoft.com/#/appList</a>. Instructions can be found here: https://docs.microsoft.com/en-us/azure/active-directory/develop/active-directory-v2-app-registration. You can pause once you get to the Redirect URI section, we will come back to this.</p>

<p>1.3. Save the Application ID for later.</p>

<p>1.4. Under “Application Secrets”, click on <strong>Generate New Password</strong> and save the value that comes up. This is the Secret that corresponds to your Application ID.</p>

<h5 id="2-configure-microsoft-as-an-identity-provider-in-okta">2. Configure Microsoft as an Identity Provider in Okta</h5>

<p>2.1. Sign in to your Okta org.</p>

<p>2.2. On the main page, click on the <strong>Admin</strong> button in the upper right.</p>

<p>2.3. Hover your cursor over <strong>Users</strong> until the menu opens, then click on <strong>Social &amp; Identity Providers</strong>.</p>

<p>2.4. On the Identity Providers page, click on <strong>Add Identity Provider</strong> &gt; <strong>Add Microsoft</strong>.</p>

<ul>
  <li><strong>Name:</strong> We suggest using the name you would expect to see on a button, something like “Log in to Microsoft”.</li>
  <li><strong>IdP Username:</strong> Set to “idpuser.email”.</li>
  <li><strong>Match against:</strong> Leave set to “Okta Username”.</li>
  <li><strong>Account Link Policy:</strong> Leave set to “Automatic”.</li>
  <li><strong>Auto-Link Restrictions:</strong> Leave set to “None”.</li>
  <li><strong>Provisioning Policy:</strong> Leave set to “Automatic”.</li>
  <li><strong>Profile Master:</strong> Leave unchecked if you want to be able to edit your user information in Okta, rather than having Microsoft be the only source for all user updates.</li>
  <li><strong>Group Assignments:</strong> Leave set to “None”, or specify a Group that you would like Microsoft users to be added to.</li>
  <li><strong>Client Id:</strong> Paste in the App ID that you got from Microsoft in step 1.3 above.</li>
  <li><strong>Client Secret:</strong> Paste in the App Secret that you got from Microsoft in step 1.4 above.</li>
  <li><strong>Scopes:</strong> Leave set to the default.</li>
</ul>

<blockquote>
  <p>For more information about these, see <a href="#social-idp-settings">Social Identity Provider Settings</a> below.</p>
</blockquote>

<p>2.5. Once you have completed all the fields, click on <strong>Add Identity Provider</strong>. You will be returned to the main “Identity Providers” page.</p>

<p>2.6. On the “Identity Providers” page, you should find the Microsoft Identity Provider that you just added. Once you have found the entry, copy both the “Authorize URL” and “Redirect URI” (ending in <code class="highlighter-rouge">/authorize/callback</code>).</p>

<h5 id="3-add-the-okta-redirect-uri-to-microsoft">3. Add the Okta Redirect URI to Microsoft</h5>

<p>3.1. Back on your Microsoft app’s registration page, if you haven’t already, click <strong>Add Platform</strong>.</p>

<p>3.2. Select <strong>Web</strong>.</p>

<p>3.3. Paste in the Redirect URI from step 2.6. into the “Redirect URLs” box then click <strong>Add URL</strong>.</p>

<p>3.2. Click <strong>Save</strong>.</p>

<h5 id="4-register-an-openid-connect-application-in-okta-3">4. Register an OpenID Connect Application in Okta</h5>

<p>4.1. Back on the Okta Developer Dashboard, click on <strong>Applications</strong>.</p>

<p>4.2. Click <strong>Add Application</strong>.</p>

<p>4.3. On the “Add Application” page, click <strong>Create New App</strong>.</p>

<p>4.4. Select the appropriate platform for your use case and choose a name for your new application.</p>

<p>4.5. Add one or more Redirect URIs. This is where the user will be directed to after they have authenticated with Microsoft.</p>

<p>4.6. Assign the group that you chose under “Group Assignments” in Step 2.4 above or assign “Everyone”.</p>

<p>4.7. Under “Grant type allowed”, make sure “Implicit” is enabled.</p>

<p>4.8. Click <strong>Done</strong> and you will arrive on the page for your new application.</p>

<p>4.9. In the “Client Credentials” section, copy your “Client ID”, which you will use to complete your Authorize URL in the next step.</p>

<h5 id="5-complete-your-authorize-url-3">5. Complete Your Authorize URL</h5>

<p>The Okta Identity Provider that you created in section 2 above generated an Authorize URL with a number of blank parameters that you must now fill-in:</p>

<ul>
  <li><strong>client_id:</strong> use the client_id value you copied in step 4.10.</li>
  <li><strong>scope:</strong> Determines the claims that are returned in the ID token. This should have at least <code class="highlighter-rouge">openid</code>.</li>
  <li><strong>response_type:</strong> Determines which flow is used. This should be <code class="highlighter-rouge">id_token</code>.</li>
  <li><strong>response_mode:</strong> Determines how the authorization response should be returned. This should be <code class="highlighter-rouge">fragment</code>.</li>
  <li><strong>state:</strong> Protects against cross-site request forgery (CSRF).</li>
  <li><strong>nonce:</strong> A string included in the returned ID Token. Use it to associate a client session with an ID Token, and to mitigate replay attacks.</li>
  <li><strong>redirect_uri:</strong> The location where Okta returns a browser after the user has finished authenticating against their social login provider. This URL must start with “https” and must match one of the Redirect URIs that you configured previously in step 4.6.</li>
</ul>

<p>For a full explanation of all these parameters, see here: <a href="https://developer.okta.com/docs/api/resources/oauth2.html#request-parameters">OAuth 2.0 Request parameters</a>.</p>

<p>An example of a complete URL looks like this: <code class="highlighter-rouge">https://{yourOktaDomain}.com/oauth2/v1/authorize?idp=0oaaq9pjc2ujmFZexample&amp;client_id=GkGw4K49N4UEE1example&amp;response_type=id_token&amp;response_mode=fragment&amp;scope=openid&amp;redirect_uri=https%3A%2F%2FyourAppUrlHere.com%2Fsocial_auth&amp;state=WM6D&amp;nonce=YsG76jo</code></p>

<h4 id="using-microsoft-for-login">Using Microsoft for Login</h4>

<p>There are three primary ways to actually kick off the sign-in with Microsoft flow.</p>

<p><strong>HTML Link</strong></p>

<p>One option is to create a link that the user clicks in order to log in. The HREF for that link would be the Authorize URL that you created previously:</p>

<p><code class="highlighter-rouge">&lt;a href=“https://{yourOktaDomain}.com/oauth2/v1/authorize?idp=0oaaq9pjc2ujmFZexample&amp;client_id=GkGw4K49N4UEE1example&amp;response_type=id_token&amp;response_mode=fragment&amp;scope=openid&amp;redirect_uri=https%3A%2F%2FyourAppUrlHere.com%2Fsocial_auth&amp;state=WM6D&amp;nonce=YsG76jo”&gt;Login With Microsoft&lt;/a&gt;</code></p>

<p>After clicking this link, the user will be prompted to sign in with the social provider. After they succeed they will be returned to the specified <code class="highlighter-rouge">redirect_uri</code> along with an ID Token in JWT format.</p>

<p><strong>Okta Sign-in Widget</strong></p>

<p>Okta also offers an easily embeddable JavaScript widget that reproduces the look and behavior of the standard Okta sign-in page. You can find out more about it <a href="https://github.com/okta/okta-signin-widget#okta-sign-in-widget">on GitHub</a>. Implementing login with Microsoft would use the Widget’s <a href="https://github.com/okta/okta-signin-widget#openid-connect">OpenID Connect authentication flow</a>.</p>

<p><strong>Auth.js</strong></p>

<p>If you don’t want pre-built views, or need deeper levels of customization, then you can use the same AuthJS SDK that the Sign-in Widget is built with. For further information see <a href="https://github.com/okta/okta-auth-js#install">the AuthJS GitHub repo</a>. Implementing login with Microsoft would use the SDK’s <a href="https://github.com/okta/okta-auth-js#openid-connect-options">OpenID Connect authentication flow</a>.</p>

<h1 id="social-identity-provider-settings-">Social Identity Provider Settings <a name="social-idp-settings"></a></h1>

<p>When you are setting up your social Identity Provider (IdP) in Okta, there are a number of settings that allow you to finely control the social login behavior. While the provider-specific instructions show one possible configuration, this section explains each of these in more detail so that you can choose the right configuration for your use case.</p>

<h3 id="authentication-settings">Authentication Settings</h3>

<p><strong>IdP username:</strong> This is the expression (written in the Okta Expression Language) that will be used to convert an IdP attribute to the Application User’s <code class="highlighter-rouge">username</code>. This IdP username will be used for matching an Application User to an Okta User.</p>

<p>For example, the value <code class="highlighter-rouge">idpuser.email</code> means that it takes the <code class="highlighter-rouge">email</code> attribute passed by the social IdP and maps it to the Okta Application User’s <code class="highlighter-rouge">username</code> property.</p>

<p>You can enter an expression to reformat the value, if desired. For example, if the social username is <code class="highlighter-rouge">john.doe@mycompany.com</code>, you could specify the replacement of <code class="highlighter-rouge">mycompany</code> with <code class="highlighter-rouge">endpointA.mycompany</code> to make the transformed username <code class="highlighter-rouge">john.doe@endpointA.mycompany.com</code>. See here for more information about the <a href="http://developer.okta.com/docs/getting_started/okta_expression_lang.html">Okta Expression Language</a>.</p>

<p><strong>Match against:</strong> The Okta user property against which the IdP username is compared.</p>

<p>More user profile attributes are available for matching as an  <a href="/docs/api/getting_started/releases-at-okta.html#early-access-ea"> <span class="api-label api-label-ea "> <i class="fa fa-flag"></i> Early Access </span> </a>  feature.</p>

<p><strong>Account Link Policy:</strong> Determines whether your Application User should be linked to an Okta user.</p>

<ul>
  <li>Automatic: Link user accounts automatically according to the “Auto-Link Restrictions” and “Match against” settings.</li>
  <li>Callout: Account linking decisions should be delegated to an external application.</li>
  <li>Disabled: Do not link existing User accounts. Unless User is already linked, login will fail.</li>
</ul>

<p><strong>Auto-Link Restrictions:</strong> Allows you to restrict auto-linking to members of specified groups.</p>

<p><strong>Provisioning Policy:</strong> Determines whether just-in-time provisioning of users should be automatic, disabled, or delegated to an external application via a callout.</p>

<h3 id="jit-settings">JIT Settings</h3>

<p><strong>Profile Master:</strong> If selected, the Social Identity Provider will be the source of truth for a user’s profile attributes. This means that next time the user signs in using the Social Identity Provider, Okta will update the user profile attributes for this user. If a user is assigned multiple applications with profile mastering enabled, a prioritization in Directory -&gt; Profile Masters will decide whether this provider will be mastering the user’s attributes. For more information about this, see <a href="https://help.okta.com/en/prod/Content/Topics/Directory/Attribute_Level_Mastering.htm?Highlight=Attribute%20Level%20Mastering">Attribute Level Master</a></p>

<p><strong>Group Assignments:</strong> Allows you to assign new users to one or more existing Groups. For example, new Facebook users could be added to a “Facebook” Group.</p>

<h2 id="error-codes">Error Codes</h2>

<p>See the <a href="/reference/error_codes/index#openid-connect-and-okta-social-authentication">OpenID Connect and Okta Social Authentication</a> section of the <a href="/docs/api/getting_started/error_codes.html">Error Codes</a> API documentation.</p>

      </div>
      <div class="TableOfContents TableOfContentsPreload">
        <div class="TableOfContents-item is-level1">
          <script>
                  document.write(document.title.split('|')[0].trim());
          </script>
        </div>
        <div class="TableOfContentsLoader"></div>
      </div><!-- END Page Content -->
    </section><!-- END Page Center w/Sub Nav & Content -->

    <!-- START Footer -->
    <footer class="Footer">
    <div class="Wrap">

        <div class="Row">

            <div class="Column--3 Column--medium-6 Column--xSmall-12">

                <a class="Logo" href="https://www.okta.com/" target="_blank" rel="noopener noreferrer">
                    <img src="https://developer.okta.com/sites/all/themes/developer/images/logo-footer.png" alt="Okta">
                    Visit okta.com
                </a>

            </div>

            <div class="Column--3 Column--medium-12 Column--xSmall-12">

                <h4>Social</h4>
                <ul class="Footer-links Footer-links--social">
                    <li><a class="Footer-links--github" target="_blank" rel="noopener noreferrer" href="http://github.com/oktadeveloper">Github</a></li>
                    <li><a class="Footer-links--twitter" target="_blank" rel="noopener noreferrer" href="http://twitter.com/OktaDev">Twitter</a></li>
                    <li><a class="Footer-links--forum" target="_blank" rel="noopener noreferrer" href="https://devforum.okta.com/">Forum</a></li>
                    <li><a class="Footer-links--rss" target="_blank" rel="noopener noreferrer" href="http://feeds.feedburner.com/OktaBlog">RSS Blog</a></li>
                </ul>
            </div>

            <div class="Column--3 Column--medium-6 Column--small-12">
                <h4>More Info</h4>
                <ul class="Footer-links">
                    <li><a target="_blank" href="https://developer.okta.com/integrate-with-okta/">Integrate with Okta</a></li>
                    <li><a href="/blog/">Blog</a></li>
                    <li><a href="/docs/platform-release-notes/platform-release-notes.html">Release Notes</a></li>
                    <li><a href="/3rd_party_notices/">3rd Party Notices</a></li>
                </ul>
            </div>

            <div class="Column--3 Column--medium-6 Column--small-12">
                <h4>Contact &amp; Legal</h4>
                <ul class="Footer-links">
                    <li><a href="/contact/">Contact Sales</a></li>
                    <li><a target="_blank" rel="noopener noreferrer" href="mailto:developers@okta.com">Contact Support</a></li>
                    <li><a href="/terms/">Terms &amp; Conditions</a></li>
                    <li><a href="/privacy/">Privacy Policy</a></li>
                </ul>
            </div>
        </div>
    </div>
</footer>

    <script type="text/javascript" src="/assets/master-0365dd27cf276cb2a15c0a43906ca592538204cf1ad4557547bf4e50609b411e.js"></script>
    <script type="text/javascript" src="/assets/quickstart-26919e2a466e6346d96282973427a3998da81637fd2a2ceb6917a61da7eaf2a8.js"></script>
    <script type="text/javascript" src="/assets/docsIndex-1d6be1b7ae995293d225ecf23099127ed97e52df0f35a3a9d8e8391d8313b135.js"></script>    
    
    
    
    
      <script type="text/javascript" src="/assets/docs-69bc61e9ef45544fd9e1a764f80f3ae15bb3fcd23f5dcdf454973ce926e0d717.js"></script>
    

    <!-- END Footer -->
  </div>
  <!-- START Post Footer -->
  
  <!-- START Google Tag Manager -->
  <!-- https://support.google.com/tagmanager/answer/6103696?hl=en -->
  <noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-TJ45R6" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <!-- END Google Tag Manager -->
  <!-- START Google Remarketing Tag -->
  <script type="text/javascript">
    /* <![CDATA[ */
    var google_conversion_id = 1006913831;
    var google_custom_params = window.google_tag_params;
    var google_remarketing_only = true;
    /* ]]> */
  </script>
  <div style="display:none;"><script type="text/javascript" src="//www.googleadservices.com/pagead/conversion.js"></script></div>
  <noscript><div style="display:inline;"><img height="1" width="1" style="border-style:none;" alt="" src="//googleads.g.doubleclick.net/pagead/viewthroughconversion/1006913831/?value=0&amp;guid=ON&amp;script=0"></div></noscript>
  <!-- END Google Remarketing Tag -->
  <!-- START Crazy Egg Tracking -->
  <script type="text/javascript">
    setTimeout(function(){var a=document.createElement("script");
    var b=document.getElementsByTagName("script")[0];
    a.src=document.location.protocol+"//script.crazyegg.com/pages/scripts/0021/9333.js?"+Math.floor(new Date().getTime()/3600000);
    a.async=true;a.type="text/javascript";b.parentNode.insertBefore(a,b)}, 1);
  </script>
  <!-- END Crazy Egg Tracking -->

  <!-- END Post Footer -->
</body>
</html>
